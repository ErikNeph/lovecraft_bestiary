# Бестиарий Лавкрафта

**Добро пожаловать в Бестиарий Лавкрафта** — самый полный и атмосферный веб-проект, посвящённый существам из мифов Ктулху и произведений Г. Ф. Лавкрафта. Это не просто бестиарий — это врата в мир древних ужасов, где вы можете изучать, добавлять и поклоняться созданиям, чьи имена дрожат на устах безумцев.

## О проекте

Бестиарий Лавкрафта — это REST API на FastAPI, призванное стать лучшим в сети ресурсом о существах из мифов Лавкрафта. Здесь вы найдёте всё: от шепчущих во тьме шогготов до непостижимого величия самого Ктулху. Проект документирует тварей бездны и вдохновляет на новые кошмары — каждый запрос пробуждает зов неизведанного.

### Что мы предлагаем:
- **Список существ**: Полный каталог тварей из глубин.
- **Детальная информация**: Узнайте всё о каждом существе — от их происхождения до уровня угрозы.
- **Добавление новых созданий**: Станьте культистом и внесите свой вклад в бестиарий.
- **Мультимедиа**: Видео, аудио и изображения для полного погружения в безумие.
- **Асинхронность**: Быстрые и зловещие ответы благодаря SQLite и `aiosqlite`.

## Основные функции

- **GET /beastiary/list** — Получить список всех существ с их способностями и связями.
- **GET /beastiary/info/{creature_name}** — Узнать подробности о конкретном существе.
- **POST /beastiary/add** — Добавить новое существо (только для тех, кто готов к безумию).
- **GET /beastiary/random** — Вызвать случайное существо из бездны.
- **GET /beastiary/dangerous?threshold=X** — Найти существ с уровнем угрозы выше X.
- **DELETE /beastiary/remove/{creature_name}** — Изгнать существо из бестиария.

## Технологии

- **FastAPI 0.115.12** — для создания быстрого и мощного API.
- **SQLAlchemy 2.0.40** — для асинхронной работы с базой данных SQLite.
- **aiosqlite 0.21.0** — асинхронный драйвер для SQLite.
- **Pydantic 2.11.1** — для проверки данных и структуры.
- **Uvicorn 0.34.0** — для запуска сервера с горячей перезагрузкой.
- **Git** — для управления версиями и сохранения нашего прогресса.

## Как запустить проект

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/ErikNeph/lovecraft_bestiary.git
   cd lovecraft_bestiary
   ```

2. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Запустите приложение:**
   ```bash
   uvicorn main:app --reload
   ```

4. **Откройте документацию API:**
   ```bash
   http://127.0.0.1:8000/docs
   ```

## Пример запроса

Добавление нового существа:
```json
{
  "name": "Ньярлатотеп",
  "description": "Тысяча ликов хаоса",
  "danger_level": 90,
  "habitat": "Межпространственные врата",
  "category": "Божество",
  "status": "Активен",
  "abilities": ["обман", "телепортация", "контроль разума"],
  "video_url": "https://youtube.com/nyarlathotep_video"
}
```
## Что нового
- **Асинхронность:** Переход на `aiosqlite` и асинхронный SQLAlchemy для скорости и ужаса.
- **Мультимедиа:** Добавлено поле `video_url` для видео о существах.
- **Улучшенный вывод:** Способности, связи и произведения теперь возвращаются как списки в JSON.
- **Новые маршруты:** `/random`, `/dangerous`, `/remove` для полного контроля над бездной.

## Автор
[**ErikNeph**](https://vk.com/egtvorec) — поклонник Лавкрафта и хаоса кода.
